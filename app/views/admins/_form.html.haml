= form_for @admin do |f|
  - if @admin.errors.any?
    #error_explanation
      %h2= t('error.admin', count: @admin.errors.count)
      %ul
        - @admin.errors.full_messages.each do |msg|
          %li= msg
  .panel
    %h3= f.label :username
    .pc= f.text_field :username, autofocus: true
  .panel
    %h3= f.label :email
    .pc= f.text_field :email
  .panel
    %h3= f.label :password
    .pc= f.password_field :password, placeholder: @admin.id ? t('leave_blank_if_no_changes') : nil
  - unless @admin.id
    .separator
  .actions
    = f.submit t('Save'), class: "button button-green"

- if @admin.id
  .separator
  - unless @show_qrcode == true
    = form_tag edit_admin_path(@admin) do
      .panel
        %h3= label_tag :password, t('helpers.label.admin.password')
        .pc= password_field_tag :password, nil, placeholder: t('your_current_password')
      = submit_tag t('View_Google_Authenticator_QRCode'), class: "button button-blue"
  - else
    .panel
      %h3= t('Google_Authenticator_QRCode')
      .pc
        .qrcode{ data: { text: generate_google_authenticator_qrcode_for_admin(@admin) } }
    = link_to t('Back'), edit_admin_path(@admin), class: "button button-blue"
